{{ define "main" }}
<div class="mx-auto py-12 px-4 bg-gray-50">
    <div class="max-w-5xl mx-auto">
        <h1 class="mb-1 text-3xl lg:text-4xl font-bold font-heading">{{ .Title }}</h1>
        <p class="flex mb-1 font-mono">
            <i icon-name="info" height="16px" class="-mx-1 mt-1"></i>&nbsp;
            <span class="ml-1 sm:ml-0">{{ .Description }}</span>
        </p>
        {{ if .Params.show.meta }} {{ partial "metadata" . }} {{ end }}
        {{ if .Params.cover.path }}
        <p class="">
            <img class="rounded object-cover mx-auto h-96 w-full" src="{{ .Params.cover.path }}" alt="{{ .Params.cover.alt }}" />
        </p>
        {{ if .Params.cover.caption }}
        <p class="text-right text-sm italic opacity-50 pr-1 -my-3 mb-2">{{ .Params.cover.caption }}</p>
        {{ end }} {{ end }}
        {{ if .Params.show.contents }} {{ partial "contents" . }} {{ end }}
        <hr class="my-6" />
        <div class="mb-12">
            {{ .Content | replaceRE "(<h[1-6]\\sid=\"([^\"]+)\"\\s?>)(.+)(</h[1-6]+>)" "${1}<a class=\"nodec flex\" href=\"#${2}\"><span class=\"hover-link\">${3}<span class=\"hash\">&nbsp;#</span></span></a>${4}" | safeHTML }}
        </div>
    </div>
</div>
{{ end }}
